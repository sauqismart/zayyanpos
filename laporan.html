<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Laporan - Aplikasi Kasir</title>
    <!-- Menggunakan Tailwind CSS untuk styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Menggunakan Google Fonts untuk tipografi -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.2.0/fonts/remixicon.css" rel="stylesheet"/>
</head>

<!-- =================================================================
     == BAGIAN 2: CSS (Gaya Tampilan)
     == ----------------------------------------------------------- ==
     == Bagian ini mengatur semua gaya visual aplikasi seperti warna,
     == font, dan efek custom.
     ================================================================= -->
<style>
    /* Style kustom untuk scrollbar agar lebih modern */
    ::-webkit-scrollbar { width: 8px; height: 8px; }
    ::-webkit-scrollbar-track { background: #f1f5f9; }
    ::-webkit-scrollbar-thumb { background: #94a3b8; border-radius: 10px; }
    ::-webkit-scrollbar-thumb:hover { background: #64748b; }
    
    /* Menggunakan font Inter sebagai default */
    body {
        font-family: 'Inter', sans-serif;
        background-color: #f8fafc;
    }
    .active-nav {
        background-color: #0d9488;
        color: white;
    }
    .nav-item:hover {
        background-color: #14b8a6;
        color: white;
    }
    .active-tab {
        border-bottom: 3px solid #0d9488;
        color: #0d9488;
        font-weight: 600;
    }
</style>

<body class="antialiased text-slate-800">

<!-- =================================================================
     == BAGIAN 1: HTML (Struktur Halaman)
     == ----------------------------------------------------------- ==
     == Bagian ini berisi semua elemen yang membentuk tampilan
     == aplikasi, seperti sidebar dan area konten utama.
     ================================================================= -->
<div class="flex flex-col lg:flex-row min-h-screen">
    <!-- Sidebar Navigasi -->
    <nav class="bg-teal-600 text-white w-full lg:w-64 flex-shrink-0">
        <div class="flex items-center justify-center p-4 lg:p-6 shadow-md">
            <i class="ri-shopping-cart-2-fill text-3xl mr-3"></i>
            <h1 class="text-xl font-bold">KasirKu V2</h1>
        </div>
        <ul class="flex flex-row lg:flex-col p-2 lg:p-4 lg:space-y-2 justify-center lg:justify-start">
            <li><a href="aplikasi-kasir-v2.html" class="flex items-center p-3 rounded-lg nav-item"><i class="ri-money-dollar-box-line text-xl mr-3"></i><span class="hidden lg:inline">Transaksi</span></a></li>
            <li><a href="database.html" class="flex items-center p-3 rounded-lg nav-item"><i class="ri-database-2-line text-xl mr-3"></i><span class="hidden lg:inline">Database</span></a></li>
            <li><a href="shift.html" class="flex items-center p-3 rounded-lg nav-item"><i class="ri-time-line text-xl mr-3"></i><span class="hidden lg:inline">Shift</span></a></li>
            <li><a href="#" class="flex items-center p-3 rounded-lg nav-item active-nav"><i class="ri-file-chart-line text-xl mr-3"></i><span class="hidden lg:inline">Laporan</span></a></li>
            <li><a href="#" class="flex items-center p-3 rounded-lg nav-item"><i class="ri-bank-line text-xl mr-3"></i><span class="hidden lg:inline">Keuangan</span></a></li>
            <li><a href="#" class="flex items-center p-3 rounded-lg nav-item"><i class="ri-settings-3-line text-xl mr-3"></i><span class="hidden lg:inline">Pengaturan</span></a></li>
        </ul>
    </nav>

    <!-- Konten Utama -->
    <main class="flex-1 p-4 lg:p-6 xl:p-8">
        <div class="bg-white rounded-xl shadow-md h-full flex flex-col">
            <!-- Header dan Filter -->
            <div class="p-4 md:p-6 border-b border-slate-200 flex-shrink-0">
                <div class="flex flex-col md:flex-row justify-between items-start md:items-center">
                    <h2 class="text-2xl font-bold text-slate-800 mb-4 md:mb-0">Laporan Penjualan</h2>
                    <div class="flex items-center gap-2">
                        <input type="date" id="start-date" class="border border-slate-300 rounded-lg p-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-500">
                        <span class="text-slate-500">-</span>
                        <input type="date" id="end-date" class="border border-slate-300 rounded-lg p-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-500">
                        <button class="bg-teal-500 text-white px-4 py-2 rounded-lg hover:bg-teal-600 transition text-sm font-semibold">Terapkan</button>
                    </div>
                </div>
            </div>

            <!-- Ringkasan Metrik -->
            <div class="p-4 md:p-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 border-b border-slate-200">
                <div class="bg-blue-50 p-4 rounded-lg">
                    <p class="text-sm text-blue-600 font-semibold">Total Penjualan</p>
                    <p class="text-2xl font-bold text-blue-800">Rp 12.450.000</p>
                </div>
                <div class="bg-green-50 p-4 rounded-lg">
                    <p class="text-sm text-green-600 font-semibold">Total Transaksi</p>
                    <p class="text-2xl font-bold text-green-800">321</p>
                </div>
                <div class="bg-yellow-50 p-4 rounded-lg">
                    <p class="text-sm text-yellow-600 font-semibold">Produk Terlaris</p>
                    <p class="text-xl font-bold text-yellow-800 truncate">Kopi Susu Gula Aren</p>
                </div>
                 <div class="bg-indigo-50 p-4 rounded-lg">
                    <p class="text-sm text-indigo-600 font-semibold">Rata-rata/Transaksi</p>
                    <p class="text-2xl font-bold text-indigo-800">Rp 38.785</p>
                </div>
            </div>
            
            <!-- Tabulasi Laporan -->
            <div class="p-4 md:p-6 flex-shrink-0">
                 <div class="flex border-b border-slate-200">
                    <button id="sales-report-tab" class="px-4 py-3 text-sm whitespace-nowrap active-tab">Laporan Penjualan</button>
                    <button id="product-report-tab" class="px-4 py-3 text-sm text-slate-500 hover:text-slate-800 whitespace-nowrap">Laporan Produk</button>
                </div>
            </div>

            <!-- Konten Tabel -->
            <div class="overflow-auto flex-grow">
                <!-- Tabel Laporan Penjualan -->
                <div id="sales-report-content">
                     <table class="w-full text-left">
                        <thead class="bg-slate-50 sticky top-0">
                            <tr>
                                <th class="p-4 font-semibold text-slate-600 text-sm">ID TRANSAKSI</th>
                                <th class="p-4 font-semibold text-slate-600 text-sm">WAKTU</th>
                                <th class="p-4 font-semibold text-slate-600 text-sm">PELANGGAN</th>
                                <th class="p-4 font-semibold text-slate-600 text-sm text-right">TOTAL</th>
                            </tr>
                        </thead>
                        <tbody id="sales-report-body">
                            <!-- Data penjualan di-render oleh JavaScript -->
                        </tbody>
                    </table>
                </div>
                 <!-- Tabel Laporan Produk -->
                <div id="product-report-content" class="hidden">
                     <table class="w-full text-left">
                        <thead class="bg-slate-50 sticky top-0">
                            <tr>
                                <th class="p-4 font-semibold text-slate-600 text-sm">PRODUK</th>
                                <th class="p-4 font-semibold text-slate-600 text-sm">KATEGORI</th>
                                <th class="p-4 font-semibold text-slate-600 text-sm text-center">TERJUAL</th>
                                <th class="p-4 font-semibold text-slate-600 text-sm text-right">TOTAL OMSET</th>
                            </tr>
                        </thead>
                        <tbody id="product-report-body">
                           <!-- Data produk di-render oleh JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </main>
</div>

<!-- =================================================================
     == BAGIAN 3: JAVASCRIPT (Logika & Fungsionalitas)
     == ----------------------------------------------------------- ==
     == Bagian ini menghidupkan aplikasi, mengelola data laporan,
     == dan menangani interaksi pengguna.
     ================================================================= -->
<script>
document.addEventListener('DOMContentLoaded', () => {
    // --- SAMPLE DATA ---
    // ===================
    const salesData = [
        { id: 'TRX-20250919-001', time: '10:05', customer: 'Umum', total: 76000 },
        { id: 'TRX-20250919-002', time: '10:15', customer: 'John Doe', total: 40000 },
        { id: 'TRX-20250919-003', time: '10:22', customer: 'Umum', total: 18000 },
        { id: 'TRX-20250919-004', time: '10:30', customer: 'Umum', total: 50000 },
        { id: 'TRX-20250919-005', time: '11:01', customer: 'Jane Smith', total: 120000 },
        { id: 'TRX-20250919-006', time: '11:15', customer: 'Umum', total: 22000 },
    ];

    const productData = [
        { name: 'Kopi Susu Gula Aren', category: 'Minuman', sold: 120, revenue: 2160000 },
        { name: 'Croissant Cokelat', category: 'Makanan', sold: 85, revenue: 1870000 },
        { name: 'Americano', category: 'Minuman', sold: 70, revenue: 1050000 },
        { name: 'Matcha Latte', category: 'Minuman', sold: 65, revenue: 1625000 },
        { name: 'Kentang Goreng', category: 'Snack', sold: 50, revenue: 750000 },
    ];

    // --- DOM SELECTORS ---
    // =====================
    const salesReportTab = document.getElementById('sales-report-tab');
    const productReportTab = document.getElementById('product-report-tab');
    const salesReportContent = document.getElementById('sales-report-content');
    const productReportContent = document.getElementById('product-report-content');
    const salesReportBody = document.getElementById('sales-report-body');
    const productReportBody = document.getElementById('product-report-body');

    // --- UI FUNCTIONS ---
    // ==================
    const formatCurrency = (amount) => new Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR', minimumFractionDigits: 0 }).format(amount);
    
    const renderSalesReport = () => {
        salesReportBody.innerHTML = '';
        salesData.forEach(sale => {
            const tr = document.createElement('tr');
            tr.className = 'border-b border-slate-200 hover:bg-slate-50';
            tr.innerHTML = `
                <td class="p-4 text-sm font-medium text-teal-600">${sale.id}</td>
                <td class="p-4 text-sm text-slate-600">${sale.time}</td>
                <td class="p-4 text-sm">${sale.customer}</td>
                <td class="p-4 text-sm text-right font-semibold">${formatCurrency(sale.total)}</td>
            `;
            salesReportBody.appendChild(tr);
        });
    };

    const renderProductReport = () => {
        productReportBody.innerHTML = '';
        productData.forEach(product => {
            const tr = document.createElement('tr');
            tr.className = 'border-b border-slate-200 hover:bg-slate-50';
            tr.innerHTML = `
                <td class="p-4 text-sm font-medium">${product.name}</td>
                <td class="p-4 text-sm"><span class="bg-slate-200 text-slate-700 text-xs font-semibold px-2 py-1 rounded-full">${product.category}</span></td>
                <td class="p-4 text-sm text-center font-medium">${product.sold}</td>
                <td class="p-4 text-sm text-right font-semibold">${formatCurrency(product.revenue)}</td>
            `;
            productReportBody.appendChild(tr);
        });
    };

    // --- EVENT LISTENERS ---
    // =======================
    salesReportTab.addEventListener('click', () => {
        salesReportTab.classList.add('active-tab');
        productReportTab.classList.remove('active-tab');
        salesReportContent.classList.remove('hidden');
        productReportContent.classList.add('hidden');
    });
    
    productReportTab.addEventListener('click', () => {
        productReportTab.classList.add('active-tab');
        salesReportTab.classList.remove('active-tab');
        productReportContent.classList.remove('hidden');
        salesReportContent.classList.add('hidden');
    });

    // --- INITIALIZATION ---
    // ======================
    // Set default date range to today
    const today = new Date().toISOString().split('T')[0];
    document.getElementById('start-date').value = today;
    document.getElementById('end-date').value = today;

    renderSalesReport();
    renderProductReport();
});
</script>
</body>
</html>
